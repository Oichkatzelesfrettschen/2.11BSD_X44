#	$NetBSD: files.pci,v 1.16 1996/05/16 03:44:16 mycroft Exp $
#
# Config.new file and device description for machine-independent PCI code.
# Included by ports that need it.  Requires that the SCSI files be
# defined first.

defflag	opt_pci.h	PCIVERBOSE

device	pci {[dev = -1], [function = -1]}
attach	pci at pcibus
file	dev/core/pci/pci.c		pci 				needs-flag
file	dev/core/pci/pci_map.c		pci
file	dev/core/pci/pci_subr.c		pci

# UHCI USB controller
attach	uhci at pci with uhci_pci
file	dev/core/pci/uhci_pci.c		uhci_pci

# OHCI USB controller
attach	ohci at pci with ohci_pci
file	dev/core/pci/ohci_pci.c		ohci_pci

# EHCI USB controller
attach	ehci at pci with ehci_pci
file	dev/core/pci/ehci_pci.c		ehci_pci

file	dev/core/pci/usb_pci.c		ehci_pci | ehci_cardbus

# PCI "universal" communication device driver, for PCI com, lpt, etc. ports
# (see documentation in the driver for what, exactly, should be supported)
device	puc { port = -1 }
attach	puc at pci
file	dev/core/pci/puc.c		puc
file	dev/core/pci/pucdata.c		puc


attach	com at puc with com_puc
file	dev/core/pci/com_puc.c		com_puc
file	dev/core/pci/cyber.c		com_puc

attach	lpt at puc with lpt_puc
file	dev/core/pci/lpt_puc.c		lpt_puc & !ppbus