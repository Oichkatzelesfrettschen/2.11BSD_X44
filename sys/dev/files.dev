#	$NetBSD: majors.storage,v 1.1 2014/09/19 17:32:34 matt Exp $
# 	$211BSD:
#
#	The dev folder is broken down into two layers.
#	- Core (1st Layer): 
#		- Consists of all the machine-independent common code using the following categories:
#			- i.e: EISA, IC, ISA, ISAPNP, MCA, OFISA, PCI, PCMCIA
#	- Devices (2nd Layer):
#		- Consists of all machine-independent devices using the following categories:
#			- i.e: Audio, Disk, Misc, USB, Video
#			- Misc: devices that don't fit any category or that fit multiple categories
#
# XXX: Needs to be included in devices.archtype (Follow i386 for an example)
# 
# sub-directory configuration files
# NOTE: files.core must be first

include		"dev/core/files.core"
include		"dev/audio/files.audio"
include		"dev/disk/files.disk"
include 	"dev/misc/files.misc"
include 	"dev/power/files.power"
include		"dev/usb/files.usb"
include		"dev/video/files.video"

#
# Global Device Config
#

#
# AUDIO Devices & Attributes
#
define										mulaw
define										auconv

device										audio
attach										audio at audio
device										midi
attach										midi at midi

#
# DISK Devices & Attributes
#
define	wdc_base
define	ata_dma
device	wdc: ata, wdc_base

device	atabus: atapi,ata_hl
attach	atabus at ata
file	dev/core/ic/wdc.c					(ata_dma | atabus) & atabus & wdc_base 	needs-flag

#
# SERIAL Devices & Attributes
#

device	com { } : tty
file	dev/core/ic/com.c					com			needs-flag

#
# NETWORK Devices & Attributes 
# we have generic code for arc(net), ether(net), fddi, and atm.
#
define										arc
define										atm
define										ether
define										fddi
define										arp											# ARPing IPv4 pull this in:

#
# WSCONS Devices & Attributes
# device attributes: display, display with emulator, keyboard, and mouse
#
define	wsdisplaydev						{[kbdmux = 1]}
define	wsemuldisplaydev					{[console = -1], [kbdmux = 1]}
define	wsmousedev							{[mux = 0]}
define	wskbddev							{[console = -1], [mux = 1]}

#
# PCCONS Devices & Attributes
#
define	pcdisplayops
file	dev/misc/pccons/pcdisplay_subr.c	pcdisplayops
file	dev/misc/pccons/pcdisplay_chars.c	pcdisplayops

device	pckbc: pckbport
file	dev/misc/pccons/pckbc.c				pckbc			needs-flag

#
# USB Devices & Attributes
#

defparam USB_MEM_RESERVE

# UHCI USB controller
device	uhci: usbus
file	dev/usb/uhci.c						uhci			needs-flag

# OHCI USB controller
device	ohci: usbus
file	dev/usb/ohci.c						ohci			needs-flag

# EHCI USB controller
device	ehci: usbus
file	dev/usb/ehci.c						ehci			needs-flag

#
# VGA Devices & Attributes
#
device	vga: wsemuldisplaydev, pcdisplayops
file	dev/video/vga/vga.c					vga				needs-flag
file	dev/video/vga/vga_subr.c			vga
file	dev/video/vga/vga_common.c			vga

#
# PSEUDO-DEVICES legitimate
#
defpseudo 	  	ksyms
defpseudo     	sequencer

defpseudo  		vnd:						disk
defpseudo 	 	ccd:						disk

defpseudo 		pty: 						tty
defpseudo 		tb: 						tty

defpseudo 		imp: 						ifnet
defpseudo 		loop: 						ifnet
defpseudo 		sl: 						ifnet
defpseudo 		ppp: 						ifnet
defpseudo 		tun: 						ifnet
defpseudo 		bpfilter:					ifnet
defpseudo 		strip: 						ifnet
defpseudo 		ipfilter: 					ifnet
